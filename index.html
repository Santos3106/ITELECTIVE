<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OrdiNizer Login & Register</title>
    <link rel="stylesheet" href="Untitled-1.css">
    <script type="module" src="Untitled-1.js" defer></script>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Login Form -->
        <div class="form-box login">
            <form id="login-form">
                <h1>Login</h1>
                <div class="input-box">
                    <input type="email" placeholder="Email" id="login-email" required>
                    <i class="bx bxs-user"></i>
                </div>
                <div class="input-box">
                    <input type="password" placeholder="Password" id="login-password" required>
                    <i class="bx bxs-lock-alt"></i>
                </div>
                <div class="forgot-link">
                    <a href="#">Forgot Password?</a>
                </div>
                <button type="submit" class="btn">Login</button>
                <p>or login with social media</p>
                <div class="social-icons">
                    <a href="#"><i class="bx bxl-google"></i></a>
                    <a href="#"><i class="bx bxl-facebook"></i></a>
                    <a href="#"><i class="bx bxl-github"></i></a>
                    <a href="#"><i class="bx bxl-linkedin"></i></a>
                </div>
            </form>
        </div>

        <!-- Register Form -->
        <div class="form-box register">
            <form id="register-form">
                <h1>Registration</h1>
                <div class="input-box">
                    <input type="email" placeholder="Email" id="register-email" required>
                    <i class="bx bxs-user"></i>
                </div>
                <div class="input-box">
                    <input type="password" placeholder="Password" id="register-password" required>
                    <i class="bx bxs-lock-alt"></i>
                </div>
                <div class="forgot-link">
                    <a href="#">Forgot Password?</a>
                </div>
                <button type="submit" class="btn">Register</button>
                <p>or register with social media</p>
                <div class="social-icons">
                    <a href="#"><i class="bx bxl-google"></i></a>
                    <a href="#"><i class="bx bxl-facebook"></i></a>
                    <a href="#"><i class="bx bxl-github"></i></a>
                    <a href="#"><i class="bx bxl-linkedin"></i></a>
                </div>
            </form>
        </div>

        <!-- Toggle Box -->
        <div class="toggle-box">
            <div class="toggle-panel toggle-left">
                <h1>Welcome to OrdiNizer!</h1>
                <p>Don't have an account?</p>
                <button class="btn register-btn">Register</button>
            </div>
            <div class="toggle-panel toggle-right">
                <h1>Welcome Back!</h1>
                <p>Already have an account?</p>
                <button class="btn login-btn">Login</button>
            </div>
        </div>
    </div>

    <!-- Firebase Auth Logic -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
        import {
            getAuth,
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword
        } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAnJiOYAaA8ngYLZb0_NPZqTDyVVbXNSaY",
            authDomain: "ordinizer-9698d.firebaseapp.com",
            projectId: "ordinizer-9698d",
            storageBucket: "ordinizer-9698d.firebasestorage.app",
            messagingSenderId: "360013646683",
            appId: "1:360013646683:web:8fe32f3ac44a69949ba87e"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        // Register form
        const registerForm = document.getElementById("register-form");
        registerForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const email = document.getElementById("register-email").value;
            const password = document.getElementById("register-password").value;

            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    console.log("User registered:", user);
                    alert("Registration successful!");
                    registerForm.reset();
                })
                .catch((error) => {
                    console.error("Registration error:", error.code, error.message);
                    alert(`Registration failed: ${error.message}`);
                });
        });

        // Login form
        const loginForm = document.getElementById("login-form");
        loginForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const email = document.getElementById("login-email").value;
            const password = document.getElementById("login-password").value;

            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    console.log("Login successful:", user);
                    alert("Login successful!");
                    loginForm.reset();
                })
                .catch((error) => {
                    console.error("Login error:", error.code, error.message);
                    alert(`Login failed: ${error.message}`);
                });
        });

        // Toggle login/register panels (if needed)
        const loginBtn = document.querySelector('.login-btn');
        const registerBtn = document.querySelector('.register-btn');
        const loginFormBox = document.querySelector('.form-box.login');
        const registerFormBox = document.querySelector('.form-box.register');

        registerBtn.addEventListener('click', () => {
            loginFormBox.style.display = 'none';
            registerFormBox.style.display = 'block';
        });

        loginBtn.addEventListener('click', () => {
            registerFormBox.style.display = 'none';
            loginFormBox.style.display = 'block';
        });

        // Optional: Set default visible form
        registerFormBox.style.display = 'none'; // Show login by default
    </script>
</body>
</html>
